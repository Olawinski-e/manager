<section>
  <div class="centering d-flex align-items-baseline">
    <h1>Bilan de compétences</h1>
    <p class="ml-1 sous-titre">- Points d'évaluation</p>
  </div>

  <mat-tab-group dynamicHeight>
    <mat-tab label="Technologies">
      <div class="container-fluid mt-4">
        <div class="row">
          <div class="col-6 pl-0">
            <p>Liste des technologies</p>

            <table
              mat-table
              [dataSource]="technologies"
              class="mat-elevation-z8"
            >
              <!-- Position Column -->
              <ng-container matColumnDef="libelle">
                <th mat-header-cell *matHeaderCellDef>Libellé</th>
                <td mat-cell *matCellDef="let technologie">
                  {{ technologie.libelle }}
                </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="version">
                <th mat-header-cell *matHeaderCellDef>Version</th>
                <td mat-cell *matCellDef="let technologie">
                  {{ technologie.version | json }}
                </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>Description</th>
                <td mat-cell *matCellDef="let technologie">
                  {{ technologie.description | json }}
                </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Actions</th>
                <td mat-cell *matCellDef="let technologie">
                  <button
                    class="btn btn-default pull-right"
                    (click)="onDeleteTechnologie(technologies)"
                  >
                    <span>X</span>
                  </button>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
          </div>

          <!-- **
               *
               * -->

          <div class="col-6 pl-0">
            <p>Ajouter / Editer une technologie</p>

            <form
              class="example-form"
              (ngSubmit)="onSaveTechnologie()"
              [formGroup]="technologieForm"
            >
              <table class="example-full-width" cellspacing="2">
                <tr>
                  <td>
                    <mat-form-field
                      floatLabel="always"
                      class="example-full-width"
                    >
                      <mat-label>Libellé</mat-label>
                      <input
                        matInput
                        formControlName="libelle"
                        placeholder="PHP, Java..."
                      />
                    </mat-form-field>
                  </td>
                  <td>
                    <mat-form-field
                      floatLabel="always"
                      class="example-full-width"
                      ><mat-label>Version</mat-label>
                      <input
                        matInput
                        placeholder="8.6"
                        formControlName="version"
                        type="number"
                      />
                    </mat-form-field>
                  </td>
                </tr>
              </table>

              <mat-form-field floatLabel="always" class="example-full-width">
                <textarea
                  matInput
                  placeholder="Description"
                  formControlName="description"
                ></textarea>
              </mat-form-field>

              <button
                class="btn btn-primary"
                align="end"
                type="submit"
                [disabled]="technologieForm.invalid"
              >
                + Ajouter
              </button>
            </form>

            <router-outlet></router-outlet>
          </div>
        </div>
      </div>
    </mat-tab>

    <!-- **
         *
         * -->

    <mat-tab label="Rôles">
      <div class="">
        Rôles content
      </div>
    </mat-tab>
  </mat-tab-group>
  <router-outlet></router-outlet>
</section>
